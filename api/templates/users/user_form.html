{% extends "base.html" %}

{% load crispy_forms_tags widget_tweaks static i18n %}

{% block title %}
  {{ user.name }}
{% endblock title %}
{% block content %}
  <div class="flex h-full justify-center md:mt-7">
    <div class="w-full rounded-lg bg-[#222222] p-8 shadow-md md:w-[600px]">
      <h2 class="mb-1 text-center text-xl font-bold text-white">{% trans "Update" %} {% trans user.username %}</h2>
      <form method="post"
            enctype="multipart/form-data"
            action="{% url 'users:update' %}">
        {% csrf_token %}
        {% for hidden_field in form.hidden_fields %}{{ hidden_field.errors }} {{ hidden_field }}{% endfor %}
        {{ form.non_form_errors }}
        <div class="mb-4 relative">
          <svg xmlns="http://www.w3.org/2000/svg"
               viewBox="0 0 24 24"
               fill="currentColor"
               aria-hidden="true"
               data-slot="icon"
               class="absolute left-3 top-6 transform -translate-y-1/2 size-4  mr-10">
            <path fill-rule="evenodd" d="M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z" clip-rule="evenodd">
            </path>
          </svg>
          <div class="space-y-2">
            {% render_field form.username class='custom-text-input' %}
            <div class="ml-3 text-xs text-red-400">{{ form.username.errors }}</div>
          </div>
        </div>
        <div class="mb-4 relative">
          <svg xmlns="http://www.w3.org/2000/svg"
               viewBox="0 0 24 24"
               fill="currentColor"
               aria-hidden="true"
               data-slot="icon"
               class="absolute left-3 top-6 transform -translate-y-1/2 size-4 mr-10">
            <path d="M1.5 8.67v8.58a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V8.67l-8.928 5.493a3 3 0 0 1-3.144 0L1.5 8.67Z"></path>
            <path d="M22.5 6.908V6.75a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3v.158l9.714 5.978a1.5 1.5 0 0 0 1.572 0L22.5 6.908Z"></path>
          </svg>
          <div class="space-y-2">
            {% render_field form.email class='custom-text-input' %}
            <div class="ml-3 text-xs text-red-400">{{ form.email.errors }}</div>
          </div>
        </div>
        <div class="mb-4 relative">
          <svg xmlns="http://www.w3.org/2000/svg"
               viewBox="0 0 24 24"
               fill="currentColor"
               aria-hidden="true"
               data-slot="icon"
               class="absolute left-3 top-6 transform -translate-y-1/2 size-4  mr-10">
            <path fill-rule="evenodd" d="M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z" clip-rule="evenodd">
            </path>
          </svg>
          <div class="space-y-2">
            {% render_field form.first_name class='custom-text-input' %}
            <div class="ml-3 text-xs text-red-400">{{ form.first_name.errors }}</div>
          </div>
        </div>
        <div class="mb-4 relative">
          <svg xmlns="http://www.w3.org/2000/svg"
               viewBox="0 0 24 24"
               fill="currentColor"
               aria-hidden="true"
               data-slot="icon"
               class="absolute left-3 top-6 transform -translate-y-1/2 size-4  mr-10">
            <path fill-rule="evenodd" d="M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z" clip-rule="evenodd">
            </path>
          </svg>
          <div class="space-y-2">
            {% render_field form.last_name class='custom-text-input' %}
            <div class="ml-3 text-xs text-red-400">{{ form.last_name.errors }}</div>
          </div>
        </div>
        <div class="mb-4 relative">
          <div class="space-y-2">
            {% render_field form.images class='custom-file-input' %}
            <div class="ml-3 text-xs text-red-400">{{ form.images.errors }}</div>
          </div>
        </div>
        <button type="submit"
                class="w-full py-2 bg-purple-600 text-white rounded-lg font-semibold text-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-600">
          {% trans "Update" %}
        </button>
      </form>
      <div class="text-center text-xs text-gray-400 mt-4">
        {% trans "Is Your Info Correct?" %} <a class="text-white text-xs font-semibold hover:underline"
    href="{% url 'users:redirect' %}">{% trans '&laquo Go Back' %}</a>
      </div>
    </div>
  </div>
  <div style="position: fixed;
              z-index: 9999;
              top: 16px;
              left: 16px;
              right: 16px;
              bottom: 16px;
              pointer-events: none"></div>
{% endblock content %}
